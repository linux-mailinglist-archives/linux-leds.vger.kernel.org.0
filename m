Return-Path: <linux-leds-owner@vger.kernel.org>
X-Original-To: lists+linux-leds@lfdr.de
Delivered-To: lists+linux-leds@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id 65FDE271F41
	for <lists+linux-leds@lfdr.de>; Mon, 21 Sep 2020 11:49:09 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726471AbgIUJtI (ORCPT <rfc822;lists+linux-leds@lfdr.de>);
        Mon, 21 Sep 2020 05:49:08 -0400
Received: from mout.kundenserver.de ([212.227.17.10]:38043 "EHLO
        mout.kundenserver.de" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S1726343AbgIUJtI (ORCPT
        <rfc822;linux-leds@vger.kernel.org>); Mon, 21 Sep 2020 05:49:08 -0400
Received: from desktop ([188.192.134.246]) by mrelayeu.kundenserver.de
 (mreue109 [212.227.15.183]) with ESMTPSA (Nemesis) id
 1MO9r5-1k55uO1kdt-00OVme; Mon, 21 Sep 2020 11:49:01 +0200
From:   "Adrian Schmutzler" <mail@adrianschmutzler.de>
To:     "'Pavel Machek'" <pavel@ucw.cz>,
        "'Marek Behun'" <marek.behun@nic.cz>
Cc:     <linux-leds@vger.kernel.org>
References: <00ab01d68eca$d2d4fcc0$787ef640$@adrianschmutzler.de> <20200920110810.GA15219@duo.ucw.cz> <00f701d68fa6$2778ce60$766a6b20$@adrianschmutzler.de> <20200921030044.304f0d5c@nic.cz> <20200921083106.GA13539@ucw.cz>
In-Reply-To: <20200921083106.GA13539@ucw.cz>
Subject: RE: How to name multiple LEDs of the same type and color
Date:   Mon, 21 Sep 2020 11:49:00 +0200
Message-ID: <003e01d68ffc$6f36c800$4da45800$@adrianschmutzler.de>
X-Mailer: Microsoft Outlook 15.0
MIME-Version: 1.0
Thread-Index: AQH6fbD/TLEvHSp6SoMFxV6GY5Lq3ALon7unAlHc+kIB1ca9cQI99J3IqOCJfHA=
Content-Language: de
Content-Type: multipart/signed;
        protocol="application/pgp-signature";
        micalg=pgp-sha256;
        boundary="=-=ygaQuA429SJy2e=-="
X-Provags-ID: V03:K1:AJfrd8GTwa3cFeYXBcikxBg7fl+CNtMqSGtIF4sH0Z9noth/+We
 IbKq1If1nvjTAvSbR86ouEYHDGxE9zbhR5446EJfIZ5P92V7zos8KQDciQL47eLSgHqxl3g
 4o0g6TG4FA0EpHOLVsviHbGOM7vHRJKIRxyresGZ5x1dpMS3I8RmQsinjFKdAmy5J2Bji6f
 hlvOSivQvOtDYJrM1mvmA==
X-Spam-Flag: NO
X-UI-Out-Filterresults: notjunk:1;V03:K0:BMDTJWsTWzM=:wHPUM+vCNdrZgpzIAZBwld
 qgNCgWJ5mHFnScvudKU5WKA8It/KSyz/Avemypoc1r1wTPmeeCJbCQJqq18LpzBs+bP+DCNWx
 AyRBYbkJuzM24gBzeRc3nWrhzpRSOPUp1bkZFHHTnCNczeMKNOX7LccP0tNtx91s1v44WHVUU
 U1lpvwYA4X5/EWoFgXmnOepaal12VOQLy+DvHJJ3HF1F7JbAbWscP2BAI09+uMAR89SYxQ/yf
 arBAy7VOjbaHqex0m5NOvq6UU+xgdQt0tz74V6/lzz/uP8cEzPsl8iCt3pqF5bPeV4Cs8akDk
 4vRPbKvnWYpYMTqYbB7kcUqV/2k4WkSDF4IOWbWoEKuLzuCuffvhJzh5JHn3aF6ylvkeSOF3f
 vRqQrC2ung80VuLpn5gMxKnrk61M+dUjQN8tcc0CoR78nxSP+pQ6fP24dZ59L+ilgxs4C/4g5
 SPO/g3qJ/0jXT7YVLRBg+Qo9s5D8jRx8i1adcNVIBc53hpB6tkuQXx9PJMdsQ6OUFi0SSyvQs
 c9A60VtMZJPH0p9hTkN4SEgAonfi0lm3CRQ9ql3lNagqmqe4Q435h0I1uiMgDjpxbMysG/KGL
 QcFDniD8gfc8DMCcnK81n6Yi+JfzLwELchbFAsGCFbRRAFIofV2oQ9DTV0cZ7XE372/6gQjqc
 lg9/ftUSUnPTgkfYZnrpDhsyjUrL9TZA/CT842V1fiBQbY8nCx+TYQbCpDBTPqfcOx+Ccpjxg
 4t4UHHjyXC2YE7OHfjXic0r0ny3AlIRG7czEcUpWqjEHt3nb28tu8evQScRf/rXqkr1XAsMOH
 kqBNAjTjsNgWV9i/wLzgW8QcE3Yr6vUZMpaMPeyj+OWkYWSUt6hZHfu/dXmqCFlu3bBoOGEGg
 FNFwvtmnpiod2GMYy0yw==
Precedence: bulk
List-ID: <linux-leds.vger.kernel.org>
X-Mailing-List: linux-leds@vger.kernel.org

This is a multipart message in MIME format.

--=-=ygaQuA429SJy2e=-=
Content-Type: text/plain;
	charset="utf-8"
Content-Transfer-Encoding: quoted-printable

Hi,

> -----Original Message-----
> From: Pavel Machek [mailto:pavel@ucw.cz]
> Sent: Montag, 21. September 2020 10:31
> To: Marek Behun <marek.behun@nic.cz>
> Cc: Adrian Schmutzler <mail@adrianschmutzler.de>; linux-
> leds@vger.kernel.org
> Subject: Re: How to name multiple LEDs of the same type and color
>=20
> Hi!
>=20
>=20
> > > My main interest here was/is that I started to evaluate how OpenWrt c=
an
> migrate from LED labels to the "new" color/function syntax and to me the =
rssi
> leds are a dedicated type that should be supported.
> > > So I fear I won't be helpful for the implementation of RSSI leds in t=
he
> kernel in general.
>=20
> Yep, I guess staying with old "label" is the right solution for you for n=
ow.
>=20
> > > For the three leds vs. set of leds discussion: Note that we are inter=
ested
> in (and already do) exposing each LED to the user individually (in user-s=
pace
> via sysfs), so the user can redefine the purpose of the LED freely based =
on
> his/her desire. Therefore, a total abstraction of the set of LEDs as a si=
ngle
> entity would be detrimental for us here.
> > >
> >
> > This is interesting. How does this work? Better signal =3D> faster
> > blinking?
>=20
> I suspect it is "no signal" -> "all LEDs off". "weak signal" -> "one LED =
on",
> "medium signal" -> "two LEDs on", "string signal" -> "three LEDs on".

Indeed, it's just on/off, no blinking. We essentially mirror the behavior o=
f OEM firmwares in this case.

The signal strength where one LED is active is defined in a config file by =
defining a range within 1 to 100.

E.g. rssilow (1 < signal < 100), rssimediumlow (25 < signal < 100), rssimed=
iumhigh (50 < signal < 100), rssihigh (75 < signal < 100)

Therefore, the more LEDs you see, the better your RSSI is. Note that LEDs m=
ight have different (fixed) colors, i.e. low is red, mediumlow is amber, an=
d the other two are green.

Some vendors do it differently of course and have one LED "position" where =
the color changes, or LEDs go off again for high RSSI or whatever, but my e=
xample should be the most abundant case.

FYI:

Device example: https://dl.ubnt.com/datasheets/picostationm/picom2hp_DS.pdf

OpenWrt rssileds code: https://github.com/openwrt/openwrt/blob/master/packa=
ge/network/utils/rssileds/src/rssileds.c

Hope this helps.

Best

Adrian

>=20
> Best regards,
> 								Pavel
>=20

--=-=ygaQuA429SJy2e=-=
Content-Type: application/pgp-signature;
	name="openpgp-digital-signature.asc"
Content-Transfer-Encoding: 7bit

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEESgN6p2H3WoMOAf81oNyKO7qxAnAFAl9odwgACgkQoNyKO7qx
AnDvhQ//XcxkMNG3oZ9EL+vwOcR6weR1Y/3kyk5Bw1owmn+OQYVh/v45BBCHQIsE
/0jcr887HF/Mmhhsy1U0RQB8mePzHUISVmzHNGDTn+Rrn+K64fJirUOQZ5CQac0O
TpFtARJwjKCTZ0Omw+Dr2I4ANu35Hi/5jcrBg/h1dm/wKqSRS2azP2A/T8y1Lzlh
Pxv7zX4iN9XEALScHvvc1boL4+D8ltRN+IwrBM9xEUmWZYALSWvTKGFQmzi2C7Lf
0IUnIp+8+r3sTS2ISo1lgL3sV75+lIXAe+vWzCr0ZBKxkA1d7mPvsA4J8NYjCrvr
k61Y5cpKAiuTyKDeanlFbeePBkWgN8CsgvIdfQNi7snz9qdlRoY3s30oX6FLz8h1
hQez0JVvWZQuJUZeGxF7LD3WOWYPJVKv+AGfpxB5fAQv9JRJwrVu7Gdbqf2EgIwb
BLqS/vJRl1stlCqryqC2YJWrMknzlLMWLg6+3kB7bxmozYqgVVWgVdx6UkRY+/5v
KbXHv5wjoe1ywR+GAFFxoLhscprd1fLsLsBzYuvHb+H6kbMA1jtuam5jCX9DIYOu
huduph+tT9v77bGZ4ykllgWnTgB7FQfOlZO4J8Y7+UEnEKV9NGQzNEKcVq0XbMAI
AAzKqSufEM7ShiiMF2kxFHkktF89FESugPtDqP6yr2nLWyHfEb0=
=j+2W
-----END PGP SIGNATURE-----


--=-=ygaQuA429SJy2e=-=--

